---
title: 指针面试题
swiper_index: 2
description: 指针一直是C语言的灵魂，无指针，不学C
abbrlink: 9896fd0f
date: 2023-01-26 10:28:46
updated:
type:
comments:
keywords:
top_img:
mathjax:
katex:
aside:
aplayer:
highlight_shrink:
---
# 【C语言面试题】

## 【知识点】

### 【注意1】二维数组的初始化 

int a[ 3 ] [ 2 ] = { {0,1},{2,3},{4,5} }; 内部应该为花括号。

注意与逗号表达式区分！！！！

同时二维数组的在内存中依然是按照顺序排放。

### 【注意2】指针的初始化

1、指针指向一个数组 int* p = arr;

2、指针指向一串字符串 char* ptr = "abcdefg";

3、用&符号

### 【注意3】指针的运算

指针的运算主要有三种：1、指针加减整数，跳过指针指向类型的个数

​                  2、指针减指针，得到的是两指针之间元素的个数，前提是两个指针指向同一块空间

​                  3、指针的关系运算 >, <, =

### 【注意4】C语言运算符优先级

![YTWRy.jpeg](https://c2.im5i.com/2023/01/25/YTWRy.jpeg)



## 【真题】

### 【真题1】

```c
int main()
{
    char* c[] = { "ENTER","NEW","POINT","FIRST" };
    char** cp[] = { c + 3,c + 2,c + 1,c };
    char*** cpp = cp;
    printf("%s\n", **++cpp);
    printf("%s\n", *-- * ++cpp + 3);
    printf("%s\n", *cpp[-2] + 3);
    printf("%s\n", cpp[-1][-1] + 1);
    return 0;
}
```

![YTX4O.jpeg](https://c2.im5i.com/2023/01/25/YTX4O.jpeg)

### 【真题2】

```c
int main()
{
	int a[3][2] = { (0,1),(2,3),(4,5) };
    //(0,1),(2,3),(4,5)都是逗号表达式，分别的值应该是1，3，5，所以这个二维数组中依次应该是a[0][0]=1,a[0][1]=3,a[1][0]=5,a[1][1]=0,a[2][0]=0,a[2][1]=0
	int* p;
	p = a[0];
    //p是一个整形指针，a[0]前面没有&和sizeof（），所以代表的是二维数组第一行的首元素地址，即指向a[0][0]=1
	printf("%d", p[0]);
    //p[0]和*（p+0）是等同的，所以应该为1
	return 0;
}

```

![Y9SBl.png](https://c2.im5i.com/2023/01/26/Y9SBl.png)

### 【真题3】

```c
int main()
{
    int a[5][5];
    int(*p)[4];
    p = a;
    //a前面既没有&也没有sizeof，所以a代表数组第一行的地址
    printf("%p,%d\n", &p[4][2] - &a[4][2], &p[4][2] - &a[4][2]);
    //p[4][2]和 *(*(p+4)+2)等同，p是一个指向4元素数组的指针，+4代表跳过4个这样的数组，即p[4]再+2就是p[4][2]
    //指针-指针得到的是之间的元素个数，&p[4][2] - &a[4][2]中前者比后者小，得到-4，-4再以%p和%d的形式打印，%p是地址的形式，16进制的形式，%d就是-4
    //-4在计算机中是以2进制补码的形式存储，（32位系统）10000000000000000000000000000100（原码）
    //                                     （32位系统）11111111111111111111111111111011（反码）
    //                                     （32位系统）11111111111111111111111111111100（补码）——>转换成16进制形式FFFFFFFC
    return 0;
}
```

![Y9gY7.png](https://c2.im5i.com/2023/01/26/Y9gY7.png)

### 【真题4】

```c
int main()
{
    int aa[2][5] = { 1,2,3,4,5,6,7,8,9,10 };
    int* ptr1 = (int*)(&aa + 1);
    //很简单，就是指向数组尾部的地址
    int* ptr2 = (int*)(*(aa + 1));
    //*（aa+1）代表aa[1],也就是拿到了第二行，第二行的名字即代表首元素地址，即aa[1][0]的地址，它本身就是一个整形指针，所以前面的强制类型转换完全是迷惑双眼的
    printf("%d,%d", *(ptr1 - 1), *(ptr2 - 1));
    //ptr1[-1]是10，ptr2[-1]是5
    return 0;
}
```

 ![Y9G72.png](https://c2.im5i.com/2023/01/26/Y9G72.png)

### 【真题5】

```c
int main()
{
    char* a[] = { "work" ,"at","alibaba" };
    //char* a[]是一个数组，数组中是char*指针，分别指向work，at，alibaba的首字符
    char** pa = a;
    //a是一个数组，并且前面没有&，sizeof，所以pa指向数组首元素的地址，即work首字符的地址
    pa++;
    //pa是指向char*的指针，+1代表向后跳过一个char*，指向at的首字符的地址
    printf("%s\n", *pa);
    //解引用得到at
    return 0;
}
```

![Y9PVP.png](https://c2.im5i.com/2023/01/26/Y9PVP.png)
